# These hyperparameters were chosen based on the paper:
# 1) "scGen predicts single-cell perturbation responses" for VAE, except additional joint hidden layer with fdim 200 and batch size 256 instead of 32
# 2) "DeepTCR is a deep learning framework for revealing sequence concepts within T-cell repertoires"

seq_model_arch: CNN
seq_model_hyperparams:
  num_features: [ 32, 64, 128 ]
  dropout: 0.0
  batch_norm: False
  embedding_dim: 64
  encoder:
    kernel: [ 5, 3, 3 ]
    stride: [ 1, 3, 3 ]
    num_layers: 3
    activation: leakyrelu
  decoder:
    kernel: [ 3, 3 ]  # omit last, as last kernel size is calculated
    stride: [ 2, 2 ]  # omit last, as last stride is calculated
    initial_feature: 64
    initial_len: 4
    num_layers: 3
    activation: relu
  max_tcr_length: 47

scRNA_model_arch: MLP
scRNA_model_hyperparams:
  gene_hidden:
    - 800
  activation: leakyrelu
  output_activation: relu
  dropout: 0.2
  batch_norm: True

# shared param by all models, "interface" between the models
hdim: 800

# params of shared encoder and decoder
activation: leakyrelu
dropout: 0.2
batch_norm: True
shared_hidden:
  - 200
zdim: 100

# Loss and optimizer
lr: 1.0e-3
batch_size: 256
losses:
  - MSE
  - CE

loss_weights:
  - 1.0
  - 1.0
  - 0.00005